text = """
#.#####################
#.......#########...###
#######.#########.#.###
###.....#.>.>.###.#.###
###v#####.#v#.###.#.###
###.>...#.#.#.....#...#
###v###.#.#.#########.#
###...#.#.#.......#...#
#####.#.#.#######.#.###
#.....#.#.#.......#...#
#.#####.#.#.#########v#
#.#...#...#...###...>.#
#.#.#v#######v###.###v#
#...#.>.#...>.>.#.###.#
#####v#.#.###v#.#.###.#
#.....#...#...#.#.#...#
#.#########.###.#.#.###
#...###...#...#...#.###
###.###.#.###v#####v###
#...#...#.#.>.>.#.>.###
#.###.###.#.###.#.#v###
#.....###...###...#...#
#####################.#"""


#text = open('2023/data/input23.txt', 'r').read()

# 

text = text.splitlines()[1:]
m, n = len(text), len(text[0])
start = (0,1)
end = (m-1, n-2)
stack = {start:(0, None)} # count, source
sol = -1

directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]
slides = {'^':(-1, 0), '>':(0, 1), 'v':(1, 0), '<':(-1, 0)}

